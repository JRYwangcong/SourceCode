C51 COMPILER V9.00   MISC                                                                  07/03/2017 18:41:22 PAGE 1   


C51 COMPILER V9.00, COMPILATION OF MODULE MISC
OBJECT MODULE PLACED IN .\Obj\misc.obj
COMPILER INVOKED BY: C:\Keil4\C51\BIN\C51.EXE ..\Code\misc.c OPTIMIZE(9,SPEED) BROWSE INCDIR(..\Code\INC;..\Code\DRIVER\
                    -INC;..\Code\DRIVER\MST9U\INC;..\Code\DRIVER\MST9U3\INC) DEFINE(ModelName=MST9U3_DEMO,CHIP_ID=MST9U3) DEBUG OBJECTEXTEND 
                    -PRINT(.\List\misc.lst) OBJECT(.\Obj\misc.obj)

line level    source

   1          #include <intrins.h>
   2          #include "types.h"
   3          #include "board.h"
   4          #include "global.h"
   5          #include "drvPM.h"
   6          //#define DelayPeriod ((WORD)CPU_CLOCK_MHZ*78/12)
   7          BYTE xdata u8Loop4us = 20;
   8          
   9          void Delay4us(void)
  10          {
  11   1          WORD i; // Add by Jonson 20100917
  12   1      #if 1 //asm code better
  13   1          i=u8Loop4us;
  14   1          while(i--)
  15   1          {
  16   2              _nop_();
  17   2          }
  18   1      #else
                  for(i=0;i<u8Loop4us;i++)
                  {
                      _nop_();
                  }
              #endif
  24   1      }
  25          
  26          /*
  27          void Delay4us( void )
  28          {
  29              _nop_();
  30              _nop_();
  31              _nop_();
  32              _nop_();
  33              _nop_();
  34              _nop_();
  35              _nop_();
  36              _nop_();
  37              _nop_();
  38          
  39              _nop_();
  40              _nop_();
  41              _nop_();
  42              _nop_();
  43              _nop_();
  44              _nop_();
  45              _nop_();
  46              _nop_();
  47              _nop_();
  48          
  49                  _nop_();
  50              _nop_();
  51              _nop_();
  52              _nop_();
  53              _nop_();
C51 COMPILER V9.00   MISC                                                                  07/03/2017 18:41:22 PAGE 2   

  54              _nop_();
  55              _nop_();
  56              _nop_();
  57              _nop_();
  58          
  59              if( g_bMcuPMClock )
  60              {
  61                  BYTE i;
  62                  for( i = 0; i < PM_DELAY4US_LOOP; i++ )
  63                  {
  64                      _nop_();
  65                      _nop_();
  66                      _nop_();
  67                      _nop_();
  68                      _nop_();
  69                      _nop_();
  70                      _nop_();
  71                  }
  72          
  73              }
  74          }
  75          */
  76          void ForceDelay1ms( WORD msNums )
  77          {
  78   1          if( !msNums )
  79   1              return;
  80   1      
  81   1          DelayCounter = msNums;
  82   1          bDelayFlag = 1;
  83   1          while( bDelayFlag );
  84   1      }
  85          
  86          void Delay1ms( WORD msNums )
  87          {
  88   1          if( !msNums )
  89   1              return;
  90   1      
  91   1          DelayCounter = msNums;
  92   1          bDelayFlag = 1;
  93   1          while( bDelayFlag )
  94   1          {
  95   2          };
  96   1      }
  97          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     49    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =      1    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
